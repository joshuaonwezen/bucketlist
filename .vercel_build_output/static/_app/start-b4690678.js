var Ee=Object.defineProperty,Re=Object.defineProperties;var Se=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var ne=(r,e,t)=>e in r?Ee(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,b=(r,e)=>{for(var t in e||(e={}))re.call(e,t)&&ne(r,t,e[t]);if(K)for(var t of K(e))ie.call(e,t)&&ne(r,t,e[t]);return r},W=(r,e)=>Re(r,Se(e));var oe=(r,e)=>{var t={};for(var i in r)re.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&K)for(var i of K(r))e.indexOf(i)<0&&ie.call(r,i)&&(t[i]=r[i]);return t};import{S as Le,i as Pe,s as Ue,d as C,v as Oe,a as ae,b as ce,o as Y,e as $e,c as Ce,f as Ne,g as R,h as M,j as N,k as xe,l as P,t as je,m as Ae,n as Be,p as Te,q as v,r as De,u as A,w as y,x as B,y as k,z as D,A as U,B as I,C as O,D as V,E as q,F as $,G as F,H as le}from"./chunks/vendor-1fd8d107.js";import{s as Ie}from"./chunks/paths-4b3c6e7e.js";const Ve="C:/Users/Joshua/Documents/projects/tigerpoints/.svelte-kit/generated/root.svelte";function me(r){let e,t,i;const o=[r[1]||{}];var n=r[0][0];function a(c){let s={};for(let l=0;l<o.length;l+=1)s=D(s,o[l]);return{props:s,$$inline:!0}}n&&(e=new n(a()));const u={c:function(){e&&U(e.$$.fragment),t=v()},l:function(s){e&&I(e.$$.fragment,s),t=v()},m:function(s,l){e&&O(e,s,l),P(s,t,l),i=!0},p:function(s,l){const h=l&2?V(o,[q(s[1]||{})]):{};if(n!==(n=s[0][0])){if(e){A();const f=e;y(f.$$.fragment,1,0,()=>{$(f,1)}),B()}n?(e=new n(a()),U(e.$$.fragment),k(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else n&&e.$set(h)},i:function(s){i||(e&&k(e.$$.fragment,s),i=!0)},o:function(s){e&&y(e.$$.fragment,s),i=!1},d:function(s){s&&R(t),e&&$(e,s)}};return C("SvelteRegisterBlock",{block:u,id:me.name,type:"else",source:"(46:0) {:else}",ctx:r}),u}function ge(r){let e,t,i;const o=[r[1]||{}];var n=r[0][0];function a(c){let s={$$slots:{default:[ye]},$$scope:{ctx:c}};for(let l=0;l<o.length;l+=1)s=D(s,o[l]);return{props:s,$$inline:!0}}n&&(e=new n(a(r)));const u={c:function(){e&&U(e.$$.fragment),t=v()},l:function(s){e&&I(e.$$.fragment,s),t=v()},m:function(s,l){e&&O(e,s,l),P(s,t,l),i=!0},p:function(s,l){const h=l&2?V(o,[q(s[1]||{})]):{};if(l&525&&(h.$$scope={dirty:l,ctx:s}),n!==(n=s[0][0])){if(e){A();const f=e;y(f.$$.fragment,1,0,()=>{$(f,1)}),B()}n?(e=new n(a(s)),U(e.$$.fragment),k(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else n&&e.$set(h)},i:function(s){i||(e&&k(e.$$.fragment,s),i=!0)},o:function(s){e&&y(e.$$.fragment,s),i=!1},d:function(s){s&&R(t),e&&$(e,s)}};return C("SvelteRegisterBlock",{block:u,id:ge.name,type:"if",source:"(36:0) {#if components[1]}",ctx:r}),u}function we(r){let e,t,i;const o=[r[2]||{}];var n=r[0][1];function a(c){let s={};for(let l=0;l<o.length;l+=1)s=D(s,o[l]);return{props:s,$$inline:!0}}n&&(e=new n(a()));const u={c:function(){e&&U(e.$$.fragment),t=v()},l:function(s){e&&I(e.$$.fragment,s),t=v()},m:function(s,l){e&&O(e,s,l),P(s,t,l),i=!0},p:function(s,l){const h=l&4?V(o,[q(s[2]||{})]):{};if(n!==(n=s[0][1])){if(e){A();const f=e;y(f.$$.fragment,1,0,()=>{$(f,1)}),B()}n?(e=new n(a()),U(e.$$.fragment),k(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else n&&e.$set(h)},i:function(s){i||(e&&k(e.$$.fragment,s),i=!0)},o:function(s){e&&y(e.$$.fragment,s),i=!1},d:function(s){s&&R(t),e&&$(e,s)}};return C("SvelteRegisterBlock",{block:u,id:we.name,type:"else",source:"(42:2) {:else}",ctx:r}),u}function be(r){let e,t,i;const o=[r[2]||{}];var n=r[0][1];function a(c){let s={$$slots:{default:[ve]},$$scope:{ctx:c}};for(let l=0;l<o.length;l+=1)s=D(s,o[l]);return{props:s,$$inline:!0}}n&&(e=new n(a(r)));const u={c:function(){e&&U(e.$$.fragment),t=v()},l:function(s){e&&I(e.$$.fragment,s),t=v()},m:function(s,l){e&&O(e,s,l),P(s,t,l),i=!0},p:function(s,l){const h=l&4?V(o,[q(s[2]||{})]):{};if(l&521&&(h.$$scope={dirty:l,ctx:s}),n!==(n=s[0][1])){if(e){A();const f=e;y(f.$$.fragment,1,0,()=>{$(f,1)}),B()}n?(e=new n(a(s)),U(e.$$.fragment),k(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else n&&e.$set(h)},i:function(s){i||(e&&k(e.$$.fragment,s),i=!0)},o:function(s){e&&y(e.$$.fragment,s),i=!1},d:function(s){s&&R(t),e&&$(e,s)}};return C("SvelteRegisterBlock",{block:u,id:be.name,type:"if",source:"(38:2) {#if components[2]}",ctx:r}),u}function ve(r){let e,t,i;const o=[r[3]||{}];var n=r[0][2];function a(c){let s={};for(let l=0;l<o.length;l+=1)s=D(s,o[l]);return{props:s,$$inline:!0}}n&&(e=new n(a()));const u={c:function(){e&&U(e.$$.fragment),t=v()},l:function(s){e&&I(e.$$.fragment,s),t=v()},m:function(s,l){e&&O(e,s,l),P(s,t,l),i=!0},p:function(s,l){const h=l&8?V(o,[q(s[3]||{})]):{};if(n!==(n=s[0][2])){if(e){A();const f=e;y(f.$$.fragment,1,0,()=>{$(f,1)}),B()}n?(e=new n(a()),U(e.$$.fragment),k(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else n&&e.$set(h)},i:function(s){i||(e&&k(e.$$.fragment,s),i=!0)},o:function(s){e&&y(e.$$.fragment,s),i=!1},d:function(s){s&&R(t),e&&$(e,s)}};return C("SvelteRegisterBlock",{block:u,id:ve.name,type:"slot",source:"(39:3) <svelte:component this={components[1]} {...(props_1 || {})}>",ctx:r}),u}function ye(r){let e,t,i,o;const n=[be,we],a=[];function u(s,l){return s[0][2]?0:1}e=u(r),t=a[e]=n[e](r);const c={c:function(){t.c(),i=v()},l:function(l){t.l(l),i=v()},m:function(l,h){a[e].m(l,h),P(l,i,h),o=!0},p:function(l,h){let f=e;e=u(l),e===f?a[e].p(l,h):(A(),y(a[f],1,1,()=>{a[f]=null}),B(),t=a[e],t?t.p(l,h):(t=a[e]=n[e](l),t.c()),k(t,1),t.m(i.parentNode,i))},i:function(l){o||(k(t),o=!0)},o:function(l){y(t),o=!1},d:function(l){a[e].d(l),l&&R(i)}};return C("SvelteRegisterBlock",{block:c,id:ye.name,type:"slot",source:"(37:1) <svelte:component this={components[0]} {...(props_0 || {})}>",ctx:r}),c}function X(r){let e,t=r[5]&&Q(r);const i={c:function(){e=$e("div"),t&&t.c(),this.h()},l:function(n){e=Ce(n,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var a=Ne(e);t&&t.l(a),a.forEach(R),this.h()},h:function(){M(e,"id","svelte-announcer"),M(e,"aria-live","assertive"),M(e,"aria-atomic","true"),N(e,"position","absolute"),N(e,"left","0"),N(e,"top","0"),N(e,"clip","rect(0 0 0 0)"),N(e,"clip-path","inset(50%)"),N(e,"overflow","hidden"),N(e,"white-space","nowrap"),N(e,"width","1px"),N(e,"height","1px"),xe(e,Ve,50,1,1140)},m:function(n,a){P(n,e,a),t&&t.m(e,null)},p:function(n,a){n[5]?t?t.p(n,a):(t=Q(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d:function(n){n&&R(e),t&&t.d()}};return C("SvelteRegisterBlock",{block:i,id:X.name,type:"if",source:"(50:0) {#if mounted}",ctx:r}),i}function Q(r){let e;const t={c:function(){e=je(r[6])},l:function(o){e=Ae(o,r[6])},m:function(o,n){P(o,e,n)},p:function(o,n){n&64&&Be(e,o[6])},d:function(o){o&&R(e)}};return C("SvelteRegisterBlock",{block:t,id:Q.name,type:"if",source:"(52:2) {#if navigated}",ctx:r}),t}function Z(r){let e,t,i,o,n;const a=[ge,me],u=[];function c(h,f){return h[0][1]?0:1}e=c(r),t=u[e]=a[e](r);let s=r[4]&&X(r);const l={c:function(){t.c(),i=Te(),s&&s.c(),o=v()},l:function(f){t.l(f),i=De(f),s&&s.l(f),o=v()},m:function(f,d){u[e].m(f,d),P(f,i,d),s&&s.m(f,d),P(f,o,d),n=!0},p:function(f,[d]){let _=e;e=c(f),e===_?u[e].p(f,d):(A(),y(u[_],1,1,()=>{u[_]=null}),B(),t=u[e],t?t.p(f,d):(t=u[e]=a[e](f),t.c()),k(t,1),t.m(i.parentNode,i)),f[4]?s?s.p(f,d):(s=X(f),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},i:function(f){n||(k(t),n=!0)},o:function(f){y(t),n=!1},d:function(f){u[e].d(f),f&&R(i),s&&s.d(f),f&&R(o)}};return C("SvelteRegisterBlock",{block:l,id:Z.name,type:"component",source:"",ctx:r}),l}function qe(r,e,t){let{$$slots:i={},$$scope:o}=e;Oe("Root",i,[]);let{stores:n}=e,{page:a}=e,{components:u}=e,{props_0:c=null}=e,{props_1:s=null}=e,{props_2:l=null}=e;ae("__svelte__",n),ce(n.page.notify);let h=!1,f=!1,d=null;Y(()=>{const p=n.page.subscribe(()=>{h&&(t(5,f=!0),t(6,d=document.title||"untitled page"))});return t(4,h=!0),p});const _=["stores","page","components","props_0","props_1","props_2"];return Object.keys(e).forEach(p=>{!~_.indexOf(p)&&p.slice(0,2)!=="$$"&&p!=="slot"&&console.warn(`<Root> was created with unknown prop '${p}'`)}),r.$$set=p=>{"stores"in p&&t(7,n=p.stores),"page"in p&&t(8,a=p.page),"components"in p&&t(0,u=p.components),"props_0"in p&&t(1,c=p.props_0),"props_1"in p&&t(2,s=p.props_1),"props_2"in p&&t(3,l=p.props_2)},r.$capture_state=()=>({setContext:ae,afterUpdate:ce,onMount:Y,stores:n,page:a,components:u,props_0:c,props_1:s,props_2:l,mounted:h,navigated:f,title:d}),r.$inject_state=p=>{"stores"in p&&t(7,n=p.stores),"page"in p&&t(8,a=p.page),"components"in p&&t(0,u=p.components),"props_0"in p&&t(1,c=p.props_0),"props_1"in p&&t(2,s=p.props_1),"props_2"in p&&t(3,l=p.props_2),"mounted"in p&&t(4,h=p.mounted),"navigated"in p&&t(5,f=p.navigated),"title"in p&&t(6,d=p.title)},e&&"$$inject"in e&&r.$inject_state(e.$$inject),r.$$.update=()=>{r.$$.dirty&384&&n.page.set(a)},[u,c,s,l,h,f,d,n,a]}class ze extends Le{constructor(e){super(e);Pe(this,e,qe,Z,Ue,{stores:7,page:8,components:0,props_0:1,props_1:2,props_2:3}),C("SvelteRegisterComponent",{component:this,tagName:"Root",options:e,id:Z.name});const{ctx:t}=this.$$,i=e.props||{};t[7]===void 0&&!("stores"in i)&&console.warn("<Root> was created without expected prop 'stores'"),t[8]===void 0&&!("page"in i)&&console.warn("<Root> was created without expected prop 'page'"),t[0]===void 0&&!("components"in i)&&console.warn("<Root> was created without expected prop 'components'")}get stores(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set stores(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get page(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set page(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get components(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set components(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get props_0(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set props_0(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get props_1(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set props_1(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get props_2(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set props_2(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Je="modulepreload",ue={},Ke="/_app/",G=function(e,t){return!t||t.length===0?e():Promise.all(t.map(i=>{if(i=`${Ke}${i}`,i in ue)return;ue[i]=!0;const o=i.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${n}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":Je,o||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),o)return new Promise((u,c)=>{a.addEventListener("load",u),a.addEventListener("error",c)})})).then(()=>e())},x=[()=>G(()=>import("./pages/__layout.svelte-5693147c.js"),["pages/__layout.svelte-5693147c.js","assets/pages/__layout.svelte-514b12f0.css","chunks/vendor-1fd8d107.js","chunks/stores-e0506705.js"]),()=>G(()=>import("./error.svelte-13891a75.js"),["error.svelte-13891a75.js","chunks/vendor-1fd8d107.js"]),()=>G(()=>import("./pages/index.svelte-9cede24e.js"),["pages/index.svelte-9cede24e.js","chunks/vendor-1fd8d107.js","chunks/paths-4b3c6e7e.js","chunks/stores-e0506705.js"]),()=>G(()=>import("./pages/_slug_.svelte-2950b15a.js"),["pages/_slug_.svelte-2950b15a.js","chunks/vendor-1fd8d107.js"])],We=decodeURIComponent,Ge=[[/^\/$/,[x[0],x[2]],[x[1]]],[/^\/([^/]+?)\/?$/,[x[0],x[3]],[x[1]],r=>({slug:We(r[1])})]],Ye=[x[0](),x[1]()];function Fe(r){let e=r.baseURI;if(!e){const t=r.getElementsByTagName("base");e=t.length?t[0].href:r.URL}return e}function Me(r,e){return r==="/"||e==="ignore"?r:e==="never"?r.endsWith("/")?r.slice(0,-1):r:e==="always"&&/\/[^./]+$/.test(r)?r+"/":r}const ke="sveltekit:scroll";let T={};try{T=JSON.parse(sessionStorage[ke])}catch{}function H(r){T[r]=ee()}function ee(){return{x:pageXOffset,y:pageYOffset}}function fe(r){return r.composedPath().find(t=>t instanceof Node&&t.nodeName.toUpperCase()==="A")}function he(r){return r instanceof SVGAElement?new URL(r.href.baseVal,document.baseURI):new URL(r.href)}class He{constructor({base:e,routes:t,trailing_slash:i,renderer:o}){var a,u;this.base=e,this.routes=t,this.trailing_slash=i,this.navigating=0,this.renderer=o,o.router=this,this.enabled=!0,this.initialized=!1,document.body.setAttribute("tabindex","-1"),this.current_history_index=(u=(a=history.state)==null?void 0:a["sveltekit:index"])!=null?u:0,this.current_history_index===0&&history.replaceState(W(b({},history.state),{"sveltekit:index":0}),"",location.href);const n=T[this.current_history_index];n&&scrollTo(n.x,n.y),this.hash_navigating=!1,this.callbacks={before_navigate:[],after_navigate:[]}}init_listeners(){history.scrollRestoration="manual",addEventListener("beforeunload",o=>{let n=!1;const a={from:this.renderer.current.url,to:null,cancel:()=>n=!0};this.callbacks.before_navigate.forEach(u=>u(a)),n?(o.preventDefault(),o.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{if(document.visibilityState==="hidden"){H(this.current_history_index);try{sessionStorage[ke]=JSON.stringify(T)}catch{}}});const e=o=>{const n=fe(o);n&&n.href&&n.hasAttribute("sveltekit:prefetch")&&this.prefetch(he(n))};let t;const i=o=>{clearTimeout(t),t=setTimeout(()=>{var n;(n=o.target)==null||n.dispatchEvent(new CustomEvent("sveltekit:trigger_prefetch",{bubbles:!0}))},20)};addEventListener("touchstart",e),addEventListener("mousemove",i),addEventListener("sveltekit:trigger_prefetch",e),addEventListener("click",o=>{if(!this.enabled||o.button||o.which!==1||o.metaKey||o.ctrlKey||o.shiftKey||o.altKey||o.defaultPrevented)return;const n=fe(o);if(!n||!n.href)return;const a=he(n);if(a.toString()===location.href){location.hash||o.preventDefault();return}const c=(n.getAttribute("rel")||"").split(/\s+/);if(n.hasAttribute("download")||c&&c.includes("external")||(n instanceof SVGAElement?n.target.baseVal:n.target))return;const[s,l]=a.href.split("#");if(l!==void 0&&s===location.href.split("#")[0]){this.hash_navigating=!0,H(this.current_history_index),this.renderer.update_page_store(new URL(a.href));return}this._navigate({url:a,scroll:n.hasAttribute("sveltekit:noscroll")?ee():null,keepfocus:!1,chain:[],details:{state:{},replaceState:!1},accepted:()=>o.preventDefault(),blocked:()=>o.preventDefault()})}),addEventListener("popstate",o=>{if(o.state&&this.enabled){if(o.state["sveltekit:index"]===this.current_history_index)return;this._navigate({url:new URL(location.href),scroll:T[o.state["sveltekit:index"]],keepfocus:!1,chain:[],details:null,accepted:()=>{this.current_history_index=o.state["sveltekit:index"]},blocked:()=>{const n=this.current_history_index-o.state["sveltekit:index"];history.go(n)}})}}),addEventListener("hashchange",()=>{this.hash_navigating&&(this.hash_navigating=!1,history.replaceState(W(b({},history.state),{"sveltekit:index":++this.current_history_index}),"",location.href))}),this.initialized=!0}owns(e){return e.origin===location.origin&&e.pathname.startsWith(this.base)}parse(e){if(this.owns(e)){const t=decodeURI(e.pathname.slice(this.base.length)||"/");return{id:e.pathname+e.search,routes:this.routes.filter(([i])=>i.test(t)),url:e,path:t,initial:!this.initialized}}}async goto(e,{noscroll:t=!1,replaceState:i=!1,keepfocus:o=!1,state:n={}}={},a){const u=new URL(e,Fe(document));return this.enabled?this._navigate({url:u,scroll:t?ee():null,keepfocus:o,chain:a,details:{state:n,replaceState:i},accepted:()=>{},blocked:()=>{}}):(location.href=u.href,new Promise(()=>{}))}enable(){this.enabled=!0}disable(){this.enabled=!1}async prefetch(e){const t=this.parse(e);if(!t)throw new Error("Attempted to prefetch a URL that does not belong to this app");return this.renderer.load(t)}after_navigate(e){Y(()=>(this.callbacks.after_navigate.push(e),()=>{const t=this.callbacks.after_navigate.indexOf(e);this.callbacks.after_navigate.splice(t,1)}))}before_navigate(e){Y(()=>(this.callbacks.before_navigate.push(e),()=>{const t=this.callbacks.before_navigate.indexOf(e);this.callbacks.before_navigate.splice(t,1)}))}async _navigate({url:e,scroll:t,keepfocus:i,chain:o,details:n,accepted:a,blocked:u}){const c=this.renderer.current.url;let s=!1;const l={from:c,to:e,cancel:()=>s=!0};if(this.callbacks.before_navigate.forEach(d=>d(l)),s){u();return}const h=this.parse(e);if(!h)return location.href=e.href,new Promise(()=>{});H(this.current_history_index),a(),this.navigating||dispatchEvent(new CustomEvent("sveltekit:navigation-start")),this.navigating++;const f=Me(e.pathname,this.trailing_slash);if(h.url=new URL(e.origin+f+e.search+e.hash),n){const d=n.replaceState?0:1;n.state["sveltekit:index"]=this.current_history_index+=d,history[n.replaceState?"replaceState":"pushState"](n.state,"",h.url)}if(await this.renderer.handle_navigation(h,o,!1,{scroll:t,keepfocus:i}),this.navigating--,!this.navigating){dispatchEvent(new CustomEvent("sveltekit:navigation-end"));const d={from:c,to:e};this.callbacks.after_navigate.forEach(_=>_(d))}}}function de(r){return r instanceof Error||r&&r.name&&r.message?r:new Error(JSON.stringify(r))}function Xe(r){let e=5381,t=r.length;if(typeof r=="string")for(;t;)e=e*33^r.charCodeAt(--t);else for(;t;)e=e*33^r[--t];return(e>>>0).toString(36)}function pe(r){const e=r.status&&r.status>=400&&r.status<=599&&!r.redirect;if(r.error||e){const t=r.status;if(!r.error&&e)return{status:t||500,error:new Error};const i=typeof r.error=="string"?new Error(r.error):r.error;return i instanceof Error?!t||t<400||t>599?(console.warn('"error" returned from load() without a valid status code \u2014 defaulting to 500'),{status:500,error:i}):{status:t,error:i}:{status:500,error:new Error(`"error" property returned from load() must be a string or instance of Error, received type "${typeof i}"`)}}if(r.redirect){if(!r.status||Math.floor(r.status/100)!==3)return{status:500,error:new Error('"redirect" property returned from load() must be accompanied by a 3xx status code')};if(typeof r.redirect!="string")return{status:500,error:new Error('"redirect" property returned from load() must be a string')}}if(r.context)throw new Error('You are returning "context" from a load function. "context" was renamed to "stuff", please adjust your code accordingly.');return r}function _e(r){const e=F(r);let t=!0;function i(){t=!0,e.update(a=>a)}function o(a){t=!1,e.set(a)}function n(a){let u;return e.subscribe(c=>{(u===void 0||t&&c!==u)&&a(u=c)})}return{notify:i,set:o,subscribe:n}}function Qe(){const{set:r,subscribe:e}=F(!1);async function t(){return!1}return{subscribe:e,check:t}}function Ze(r,e){const t=typeof r=="string"?r:r.url;let i=`script[data-type="svelte-data"][data-url=${JSON.stringify(t)}]`;e&&typeof e.body=="string"&&(i+=`[data-body="${Xe(e.body)}"]`);const o=document.querySelector(i);if(o&&o.textContent){const n=JSON.parse(o.textContent),{body:a}=n,u=oe(n,["body"]);return Promise.resolve(new Response(a,u))}return fetch(r,e)}class et{constructor({Root:e,fallback:t,target:i,session:o}){this.Root=e,this.fallback=t,this.router,this.target=i,this.started=!1,this.session_id=1,this.invalid=new Set,this.invalidating=null,this.autoscroll=!0,this.updating=!1,this.current={url:null,session_id:0,branch:[]},this.cache=new Map,this.loading={id:null,promise:null},this.stores={url:_e({}),page:_e({}),navigating:F(null),session:F(o),updated:Qe()},this.$session=null,this.root=null;let n=!1;this.stores.session.subscribe(async a=>{if(this.$session=a,!n||!this.router)return;this.session_id+=1;const u=this.router.parse(new URL(location.href));u&&this.update(u,[],!0)}),n=!0}disable_scroll_handling(){if(this.started&&!this.updating)throw new Error("Can only disable scroll handling during navigation");(this.updating||!this.started)&&(this.autoscroll=!1)}async start({status:e,error:t,nodes:i,params:o}){const n=new URL(location.href),a=[];let u={},c,s;try{for(let l=0;l<i.length;l+=1){const h=l===i.length-1;let f;if(h){const _=document.querySelector('[data-type="svelte-props"]');_&&(f=JSON.parse(_.textContent))}const d=await this._load_node({module:await i[l],url:n,params:o,stuff:u,status:h?e:void 0,error:h?t:void 0,props:f});if(f&&(d.uses.dependencies.add(n.href),d.uses.url=!0),a.push(d),d&&d.loaded)if(d.loaded.error){if(t)throw d.loaded.error;s={status:d.loaded.status,error:d.loaded.error,url:n}}else d.loaded.stuff&&(u=b(b({},u),d.loaded.stuff))}c=s?await this._load_error(s):await this._get_navigation_result_from_branch({url:n,params:o,stuff:u,branch:a,status:e,error:t})}catch(l){if(t)throw l;c=await this._load_error({status:500,error:de(l),url:n})}if(c.redirect){location.href=new URL(c.redirect,location.href).href;return}this._init(c)}async handle_navigation(e,t,i,o){this.started&&this.stores.navigating.set({from:this.current.url,to:e.url}),await this.update(e,t,i,o)}async update(e,t,i,o){var c,s,l;const n=this.token={};let a=await this._get_navigation_result(e,i);if(!a){location.href=e.url.href;return}if(n!==this.token)return;if(this.invalid.clear(),a.redirect)if(t.length>10||t.includes(e.url.pathname))a=await this._load_error({status:500,error:new Error("Redirect loop"),url:e.url});else{this.router?this.router.goto(new URL(a.redirect,e.url).href,{replaceState:!0},[...t,e.url.pathname]):location.href=new URL(a.redirect,location.href).href;return}else if(((s=(c=a.props)==null?void 0:c.page)==null?void 0:s.status)>=400&&await this.stores.updated.check()){location.href=e.url.href;return}if(this.updating=!0,this.started?(this.current=a.state,this.root.$set(a.props),this.stores.navigating.set(null)):this._init(a),o){const{scroll:h,keepfocus:f}=o;if(f||((l=getSelection())==null||l.removeAllRanges(),document.body.focus()),await le(),this.autoscroll){const d=e.url.hash&&document.getElementById(e.url.hash.slice(1));h?scrollTo(h.x,h.y):d?d.scrollIntoView():scrollTo(0,0)}}else await le();if(this.loading.promise=null,this.loading.id=null,this.autoscroll=!0,this.updating=!1,a.props.page&&(this.page=a.props.page),!this.router)return;const u=a.state.branch[a.state.branch.length-1];u&&u.module.router===!1?this.router.disable():this.router.enable()}load(e){return this.loading.promise=this._get_navigation_result(e,!1),this.loading.id=e.id,this.loading.promise}invalidate(e){return this.invalid.add(e),this.invalidating||(this.invalidating=Promise.resolve().then(async()=>{const t=this.router&&this.router.parse(new URL(location.href));t&&await this.update(t,[],!0),this.invalidating=null})),this.invalidating}update_page_store(e){this.stores.page.set(W(b({},this.page),{url:e})),this.stores.page.notify()}_init(e){this.current=e.state;const t=document.querySelector("style[data-svelte]");if(t&&t.remove(),this.page=e.props.page,this.root=new this.Root({target:this.target,props:b({stores:this.stores},e.props),hydrate:!0}),this.started=!0,this.router){const i={from:null,to:new URL(location.href)};this.router.callbacks.after_navigate.forEach(o=>o(i))}}async _get_navigation_result(e,t){if(this.loading.id===e.id&&this.loading.promise)return this.loading.promise;for(let i=0;i<e.routes.length;i+=1){const o=e.routes[i];let n=i+1;for(;n<e.routes.length;){const u=e.routes[n];if(u[0].toString()===o[0].toString())u[1].forEach(c=>c()),n+=1;else break}const a=await this._load({route:o,info:e},t);if(a)return a}if(e.initial)return await this._load_error({status:404,error:new Error(`Not found: ${e.url.pathname}`),url:e.url})}async _get_navigation_result_from_branch({url:e,params:t,stuff:i,branch:o,status:n,error:a}){const u=o.filter(Boolean),c=u.find(f=>f.loaded&&f.loaded.redirect),s={redirect:c&&c.loaded?c.loaded.redirect:void 0,state:{url:e,params:t,branch:o,session_id:this.session_id},props:{components:u.map(f=>f.module.default)}};for(let f=0;f<u.length;f+=1){const d=u[f].loaded;s.props[`props_${f}`]=d?await d.props:null}if(!this.current.url||e.href!==this.current.url.href){s.props.page={url:e,params:t,status:n,error:a,stuff:i};const f=(d,_)=>{Object.defineProperty(s.props.page,d,{get:()=>{throw new Error(`$page.${d} has been replaced by $page.url.${_}`)}})};f("origin","origin"),f("path","pathname"),f("query","searchParams")}const l=u[u.length-1],h=l.loaded&&l.loaded.maxage;if(h){const f=e.pathname+e.search;let d=!1;const _=()=>{this.cache.get(f)===s&&this.cache.delete(f),S(),clearTimeout(p)},p=setTimeout(_,h*1e3),S=this.stores.session.subscribe(()=>{d&&_()});d=!0,this.cache.set(f,s)}return s}async _load_node({status:e,error:t,module:i,url:o,params:n,stuff:a,props:u}){const c={module:i,uses:{params:new Set,url:!1,session:!1,stuff:!1,dependencies:new Set},loaded:null,stuff:a};u&&c.uses.dependencies.add(o.href);const s={};for(const h in n)Object.defineProperty(s,h,{get(){return c.uses.params.add(h),n[h]},enumerable:!0});const l=this.$session;if(i.load){const{started:h}=this,f={params:s,props:u||{},get url(){return c.uses.url=!0,o},get session(){return c.uses.session=!0,l},get stuff(){return c.uses.stuff=!0,b({},a)},fetch(_,p){const S=typeof _=="string"?_:_.url,{href:L}=new URL(S,o);return c.uses.dependencies.add(L),h?fetch(_,p):Ze(_,p)}};Object.defineProperty(f,"page",{get:()=>{throw new Error("`page` in `load` functions has been replaced by `url` and `params`")}}),t&&(f.status=e,f.error=t);const d=await i.load.call(null,f);if(!d)throw new Error("load function must return a value");c.loaded=pe(d),c.loaded.stuff&&(c.stuff=c.loaded.stuff)}else u&&(c.loaded=pe({props:u}));return c}async _load({route:e,info:{url:t,path:i}},o){const n=t.pathname+t.search;if(!o){const m=this.cache.get(n);if(m)return m}const[a,u,c,s,l]=e,h=s?s(a.exec(i)):{},f=this.current.url&&{url:n!==this.current.url.pathname+this.current.url.search,params:Object.keys(h).filter(m=>this.current.params[m]!==h[m]),session:this.session_id!==this.current.session_id};let d=[],_={},p=!1,S=200,L;u.forEach(m=>m());e:for(let m=0;m<u.length;m+=1){let g;try{if(!u[m])continue;const w=await u[m](),E=this.current.branch[m];if(!E||w!==E.module||f.url&&E.uses.url||f.params.some(j=>E.uses.params.has(j))||f.session&&E.uses.session||Array.from(E.uses.dependencies).some(j=>this.invalid.has(j))||p&&E.uses.stuff){let j={};const te=l&&m===u.length-1;if(te){const J=await fetch(`${t.pathname}${t.pathname.endsWith("/")?"":"/"}__data.json${t.search}`,{headers:{"x-sveltekit-load":"true"}});if(J.ok){const se=J.headers.get("x-sveltekit-location");if(se)return{redirect:se,props:{},state:this.current};j=await J.json()}else S=J.status,L=new Error("Failed to load data")}if(L||(g=await this._load_node({module:w,url:t,params:h,props:j,stuff:_})),g&&(te&&(g.uses.url=!0),g.loaded)){if(g.loaded.fallthrough)return;if(g.loaded.error&&(S=g.loaded.status,L=g.loaded.error),g.loaded.redirect)return{redirect:g.loaded.redirect,props:{},state:this.current};g.loaded.stuff&&(p=!0)}}else g=E}catch(w){S=500,L=de(w)}if(L){for(;m--;)if(c[m]){let w,E,z=m;for(;!(E=d[z]);)z-=1;try{if(w=await this._load_node({status:S,error:L,module:await c[m](),url:t,params:h,stuff:E.stuff}),w&&w.loaded&&w.loaded.error)continue;w&&w.loaded&&w.loaded.stuff&&(_=b(b({},_),w.loaded.stuff)),d=d.slice(0,z+1).concat(w);break e}catch{continue}}return await this._load_error({status:S,error:L,url:t})}else g&&g.loaded&&g.loaded.stuff&&(_=b(b({},_),g.loaded.stuff)),d.push(g)}return await this._get_navigation_result_from_branch({url:t,params:h,stuff:_,branch:d,status:S,error:L})}async _load_error({status:e,error:t,url:i}){var s,l;const o={},n=await this._load_node({module:await this.fallback[0],url:i,params:o,stuff:{}}),a=await this._load_node({status:e,error:t,module:await this.fallback[1],url:i,params:o,stuff:n&&n.loaded&&n.loaded.stuff||{}}),u=[n,a],c=b(b({},(s=n==null?void 0:n.loaded)==null?void 0:s.stuff),(l=a==null?void 0:a.loaded)==null?void 0:l.stuff);return await this._get_navigation_result_from_branch({url:i,params:o,stuff:c,branch:u,status:e,error:t})}}async function rt({paths:r,target:e,session:t,route:i,spa:o,trailing_slash:n,hydrate:a}){const u=new et({Root:ze,fallback:Ye,target:e,session:t}),c=i?new He({base:r.base,routes:Ge,trailing_slash:n,renderer:u}):null;Ie(r),a&&await u.start(a),c&&(o&&c.goto(location.href,{replaceState:!0},[]),c.init_listeners()),dispatchEvent(new CustomEvent("sveltekit:start"))}export{rt as start};
